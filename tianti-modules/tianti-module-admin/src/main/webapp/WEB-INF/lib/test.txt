main sleep(3000)
t2 wait
t1 wait
t3 wait
main notifyAll()
t3 continue
t1 continue
t2 continue

t1 wait
main sleep(3000)
t2 wait
t3 wait
main notifyAll()
t3 continue
t2 continue
t1 continue

t1 wait
t2 wait
main sleep(3000)
t3 wait
main notifyAll()
t3 continue
t2 continue
t1 continue